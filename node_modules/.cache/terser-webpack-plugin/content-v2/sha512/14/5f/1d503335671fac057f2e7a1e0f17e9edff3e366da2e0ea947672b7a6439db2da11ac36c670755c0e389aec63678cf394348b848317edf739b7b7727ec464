{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{506:function(s,t,a){\"use strict\";a.r(t);var e=a(18),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"本地复现不了开发环境的问题-那就线上-非正式-debug\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#本地复现不了开发环境的问题-那就线上-非正式-debug\"}},[s._v(\"#\")]),s._v(\" 本地复现不了开发环境的问题-那就线上(非正式)debug\")]),s._v(\" \"),a(\"p\",[s._v(\"这里所说的线上不单单指正式环境，还可以是开发环境，测试环境。\")]),s._v(\" \"),a(\"p\",[s._v(\"代码出问题是很正常的，关键是怎么快速找到问题并解决问题。一些简单的问题我们根据经验可以直接看出来，但是对于复杂的或者直接看不出的问题我们就需要debug了，debug的能力也是程序员必须的。\")]),s._v(\" \"),a(\"p\",[s._v(\"通常出现问题，本地启动程序debug，打断点然后一步步的跟着流程执行基本就可以解决问题了，但是偏偏就有一些诡异的问题，很难搞哦，本地怎么测都没问题，就是部署到服务器上会有问题，而且并不能简单的看出问题是什么。\")]),s._v(\" \"),a(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/AJiSun/CDN/design-problems/design-5-bug.png\"}}),s._v(\" \"),a(\"p\",[s._v(\"(开发与测试的对话)\")]),s._v(\" \"),a(\"p\",[s._v(\"这种对话是不是很熟悉，线上的问题就是无法在本地复现出来，既然本地无法复现，那我们就线上debug，很简单很实用（工作几年才知道还有这种操作）。\")]),s._v(\" \"),a(\"p\",[s._v(\"下面介绍下利用idea debug线上环境\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_1-configurations中配置remote\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-configurations中配置remote\"}},[s._v(\"#\")]),s._v(\" 1. configurations中配置remote\")]),s._v(\" \"),a(\"p\",[s._v(\"Add new configuration 中选中Remote\")]),s._v(\" \"),a(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/AJiSun/CDN/design-problems/design-5-remote.png\"}}),s._v(\" \"),a(\"h3\",{attrs:{id:\"_2-配置ip和端口\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-配置ip和端口\"}},[s._v(\"#\")]),s._v(\" 2. 配置IP和端口\")]),s._v(\" \"),a(\"p\",[s._v(\"主要就是配置线上服务器的IP和端口\")]),s._v(\" \"),a(\"p\",[s._v(\"Name: 随意，就是一个名字\")]),s._v(\" \"),a(\"p\",[s._v(\"Host: 所要调试的程序所在的服务器IP地址\")]),s._v(\" \"),a(\"p\",[s._v(\"Port：debug的端口，默认5005，可以任意修改(此端口非程序的端口)\")]),s._v(\" \"),a(\"p\",[s._v(\"然后Apply和OK 即可，至此本地idea配置完成。\")]),s._v(\" \"),a(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/AJiSun/CDN/design-problems/design-5-remote-config.png\"}}),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-用debug命令重新启动线上的服务\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-用debug命令重新启动线上的服务\"}},[s._v(\"#\")]),s._v(\" 3. 用debug命令重新启动线上的服务\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-java extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[a(\"code\",[s._v(\"# 启动命令\\nnohup java \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"jar \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"agentlib\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\"jdwp\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"transport\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"dt_socket\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"server\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"y\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"suspend\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"address\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"5005\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[s._v(\"Xms512m\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[s._v(\"Xmx1024m\")]),s._v(\" app\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"jar \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" app\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),s._v(\"log \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&\")]),s._v(\"\\n\")])])]),a(\"p\",[s._v(\"dt_socket：使用的通信方式（不需要改）\")]),s._v(\" \"),a(\"p\",[s._v(\"server：是主动连接调试器还是作为服务器等待调试器连接（不需要改）\")]),s._v(\" \"),a(\"p\",[s._v(\"suspend：是否在启动JVM时就暂停，并等待调试器连接（不需要改）\")]),s._v(\" \"),a(\"p\",[s._v(\"address：地址和端口，地址省略，两者用冒号分隔（取自上一步配置的端口）\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_4-开始debug\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-开始debug\"}},[s._v(\"#\")]),s._v(\" 4. 开始debug\")]),s._v(\" \"),a(\"p\",[s._v(\"Idea选择之前配置的configuration，然后选择debug启动，如下图\")]),s._v(\" \"),a(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/AJiSun/CDN/design-problems/design-5-start-debug.png\"}}),s._v(\" \"),a(\"p\",[s._v(\"然后选中刚刚配置的remote，然后debug模式启动，出现下面的信息代表启动成功\")]),s._v(\" \"),a(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/AJiSun/CDN/design-problems/design-5-bebug-success.png\"}}),s._v(\" \"),a(\"p\",[s._v(\"记得在需要调试的位置打上断点，然后直接请求线上的API ，就可以在本地debug了\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_5-注意-注意-注意\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-注意-注意-注意\"}},[s._v(\"#\")]),s._v(\" 5. 注意！注意！注意！\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"重要是事情说三遍\")])]),s._v(\" \"),a(\"div\",{staticClass:\"custom-block danger\"},[a(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"警告\")]),s._v(\" \"),a(\"p\",[s._v(\"不要在正式环境这样搞，线上debug是会阻塞的，请求都跑到你本地了，对线上环境有影响的。\")])]),s._v(\" \"),a(\"div\",{staticClass:\"custom-block danger\"},[a(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"警告\")]),s._v(\" \"),a(\"p\",[s._v(\"不要在正式环境这样搞，线上debug是会阻塞的，请求都跑到你本地了，对线上环境有影响的。\")])]),s._v(\" \"),a(\"div\",{staticClass:\"custom-block danger\"},[a(\"p\",{staticClass:\"custom-block-title\"},[s._v(\"警告\")]),s._v(\" \"),a(\"p\",[s._v(\"不要在正式环境这样搞，线上debug是会阻塞的，请求都跑到你本地了，对线上环境有影响的。\")])])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}